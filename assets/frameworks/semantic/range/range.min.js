/*!
 * # Range slider for Semantic UI.
 *  https://github.com/tyleryasaka/semantic-ui-range
 */
!function(p,v){"use strict";p.fn.range=function(u){var t=p(this),m=u,g="string"==typeof m,h=[].slice.call(arguments,1);return t.each(function(){var c,n,e,s,d=p.isPlainObject(u)?p.extend(!0,{},p.fn.range.settings,u):p.extend({},p.fn.range.settings),t=d.namespace,r=(d.min,d.max,d.step),i=(d.start,d.input,"module-"+t),o=p(this),l=this,a=o.data(i),f={initialize:function(){f.instantiate(),f.sanitize()},instantiate:function(){a=f,o.data(i,f),p(l).html("<div class='inner'><div class='track'></div><div class='track-fill'></div><div class='thumb'></div></div>"),c=p(l).children(".inner")[0],n=p(l).find(".thumb")[0],e=p(l).find(".track-fill")[0],f.determinePrecision(),f.setValuePosition(d.start),p(l).find(".track, .thumb, .inner").on("mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),p(this).closest(".range").trigger("mousedown",t)}),p(l).find(".track, .thumb, .inner").on("touchstart",function(t){t.stopImmediatePropagation(),t.preventDefault(),p(this).closest(".range").trigger("touchstart",t)}),p(l).on("mousedown",function(t,n){f.rangeMousedown(t,!1,n)}),p(l).on("touchstart",function(t,n){f.rangeMousedown(t,!0,n)}),f.addVisibilityListener(l)},sanitize:function(){"number"!=typeof d.min&&(d.min=parseInt(d.min)||0),"number"!=typeof d.max&&(d.max=parseInt(d.max)||!1),"number"!=typeof d.start&&(d.start=parseInt(d.start)||0)},determinePrecision:function(){var t=String(d.step).split("."),n=2==t.length?t[1].length:0;s=Math.pow(10,n)},determineValue:function(t,n,e){var i=(e-t)/(n-t),o=d.max-d.min,a=Math.round(i*o/r)*r;return(a=Math.round(a*s)/s)+d.min},determinePosition:function(t){var n=(t-d.min)/(d.max-d.min);return Math.round(n*p(c).width())+p(e).position().left-10},setValue:function(t,n){void 0===n&&(n=!0),d.input&&p(d.input).val(t),d.onChange&&d.onChange(t,{triggeredByUser:n})},setPosition:function(t){p(n).css({left:String(t)+"px"}),p(e).css({width:String(t+10)+"px"})},rangeMousedown:function(t,n,e){var i,o,a,s,r,u;p(l).hasClass("disabled")||(t.preventDefault(),i=p(c).offset().left,o=i+p(c).width(),a=n?e.originalEvent.touches[0].pageX:void 0!==t.pageX?t.pageX:e.pageX,s=f.determineValue(i,o,a),i<=a&&a<=o&&(f.setPosition(a-i-10),f.setValue(s)),r=function(t){t.preventDefault(),a=n?t.originalEvent.touches[0].pageX:t.pageX,s=f.determineValue(i,o,a),i<=a&&a<=o&&s>=d.min&&s<=d.max&&(f.setPosition(a-i-10),f.setValue(s))},u=function(t){n?(p(v).off("touchmove",r),p(v).off("touchend",u)):(p(v).off("mousemove",r),p(v).off("mouseup",u))},n?(p(v).on("touchmove",r),p(v).on("touchend",u)):(p(v).on("mousemove",r),p(v).on("mouseup",u)))},setValuePosition:function(t,n){void 0===n&&(n=!0);var e=f.determinePosition(t);f.setPosition(e),f.setValue(t,n)},invoke:function(t){switch(t){case"set value":0<h.length&&a.setValuePosition(h[0],!1)}},addVisibilityListener:function(n){var e=new MutationObserver(function(t){p(n).is(":visible")&&(e.disconnect(),f.setValuePosition(d.start))}),t=p(n).parentsUntil(":visible");0!=t.length&&e.observe(t[t.length-1],{attributes:!0})}};g?(void 0===a&&f.initialize(),f.invoke(m)):f.initialize()}),this},p.fn.range.settings={name:"Range",namespace:"range",min:0,max:!1,step:1,start:0,input:!1,onChange:function(t){}}}(jQuery,(window,document));